<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Advanced Quiz App</title>
<style>
  body { font-family: Arial, sans-serif; background:#0f1724; color:#fff; margin:0; padding:0; }
  .container { width:90%; max-width:800px; margin:50px auto; background:#0b1220; padding:20px; border-radius:12px; box-shadow:0 0 20px rgba(0,0,0,0.4); }
  h2 { margin-bottom:10px; }
  .btn { padding:10px 20px; margin:10px 0; background:#06c; border:none; color:#fff; border-radius:8px; cursor:pointer; }
  .btn:hover{ opacity:0.9; }
  .options { margin-top:15px; }
  .option { background:#111a2e; padding:10px; margin:8px 0; border-radius:8px; cursor:pointer; border:2px solid transparent; transition:0.3s; }
  .option.correct { border-color:green; animation:blinkGreen 0.4s alternate 3; }
  .option.wrong { border-color:red; animation:blinkRed 0.4s alternate 3; }
  @keyframes blinkGreen { from{background:#111a2e;} to{background:#0f3;} }
  @keyframes blinkRed { from{background:#111a2e;} to{background:#f33;} }
  #scoreboard, #profile { position:fixed; top:20px; right:20px; text-align:right; }
  #profile { top:70px; }
</style>
</head>
<body>
<div id="scoreboard">Score: 0</div>
<div id="profile">User: <span id="savedUser"></span></div>
<div class="container">
  <h2>Enter Your Name</h2>
  <input type="text" id="username" placeholder="Your name" style="padding:10px; width:100%; border-radius:6px;" />
  <button class="btn" onclick="saveUser()">Save</button>

  <div id="quizBox" style="display:none;">
    <h2 id="question"></h2>
    <div class="options" id="options"></div>
    <button class="btn" id="nextBtn" onclick="nextQuestion()" style="display:none;">Next</button>
    <button class="btn" id="submitBtn" onclick="submitQuiz()" style="display:none;">Submit</button>
  </div>

  <div id="result" style="display:none;"></div>
</div>

<script>
let questions = [
  {q:"HTML stands for?", o:["Hyper Trainer Marking Language","Hyper Text Markup Language","Hyper Text Marketing Language","Hyper Text Mark Level"], a:1},
  {q:"CSS used for?", o:["Styling","Database","Server","Hosting"], a:0},
  {q:"JS stands for?", o:["Java Super","JavaScript","JustScript","JoinScript"], a:1},
  {q:"Who was the first president of India?", o:["Narendra Modi", "Meera kumar", "Dr. Rajendra prasad", "None of these"],a:2},
  {q:"What is the shortcut to open screen recording tools on a Mac?", o:["Command+Shift+3", "Command+Shift+4", "Command+shift+5", "Command+R"],a:2},
  {q:"Which is Used for screen recording on MacOs?",o:["Snipping Tool", "Quick Time player","Paint","VLC Media player"],a:1},
  {q:"How Many else statement can an if statement have in c++?",o:["One","Two", "As many as needed", "None"],a:0},
  {q:"2*12=?",o:["21", "26","24","29"],a:2},
  {q:"What is the unit of force int the SI System?",o:["newton","Joule","Watt","Pascal"],a:0},
  {q:"The Basic Unit of electrical resistance in the SI System is?", o:["Ampere","Volt","Ohm","Watt"],a:2},
  {q:"Which of the following in NOT a renewable energy source?",o:["Wind", "Solar", "Coal","Hydropower"],a:2},
  
];

// Add 30 random questions later â†’ duplicated for now
while(questions.length < 30){ questions.push(...questions); }
questions = questions.slice(0,30);

questions = questions.sort(()=>Math.random()-0.5);

let index = 0;
let score = 0;
let selected = false;
let correctAnswers = 0;

window.onload = ()=>{
  const saved = localStorage.getItem('username');
  if(saved){ document.getElementById('savedUser').innerText = saved; }
};

function saveUser(){
  const name = document.getElementById('username').value;
  if(!name) return alert("Enter name");
  localStorage.setItem('username', name);
  document.getElementById('savedUser').innerText = name;
  document.getElementById('quizBox').style.display = 'block';
  loadQuestion();
}

function loadQuestion(){
  selected = false;
  const q = questions[index];
  document.getElementById('question').innerText = (index+1)+". "+q.q;
  const optBox = document.getElementById('options');
  optBox.innerHTML = "";
  q.o.forEach((opt,i)=>{
    let div = document.createElement('div');
    div.className = 'option';
    div.innerText = opt;
    div.onclick = ()=> selectOption(div,i);
    optBox.appendChild(div);
  });
}

function selectOption(div,i){
  if(selected) return;
  selected = true;
  const q = questions[index];
  const opts = document.querySelectorAll('.option');

  opts.forEach((el,idx)=>{
    if(idx === q.a){ el.classList.add('correct'); }
    if(idx === i && i !== q.a){ el.classList.add('wrong'); }
  });

  if(i === q.a){ score++; correctAnswers++; }

  document.getElementById('scoreboard').innerText = "Score: "+score;

  if(index < 9) document.getElementById('nextBtn').style.display = 'block';
  if(index === 9) document.getElementById('submitBtn').style.display = 'block';
}

function nextQuestion(){
  index++;
  document.getElementById('nextBtn').style.display = 'none';
  loadQuestion();
}

function submitQuiz(){
  document.getElementById('quizBox').style.display = 'none';
  document.getElementById('result').style.display = 'block';
  document.getElementById('result').innerHTML = `<h2>Quiz Completed</h2>
    <p>Total Questions: 10</p>
    <p>Correct Answers: ${correctAnswers}</p>
    <p>Your Score: ${score}</p>`;
}
</script>

</body>
</html>
